<!DOCTYPE html>
<html>
<head>
    <style>
        body {
            font-family: Arial, sans-serif;
            transition: background-color 0.5s;
        }
        h1, h2 {
            color: #333;
            transition: color 0.5s;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        tr:nth-child(even) {
            background-color: #f2f2f2;
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .header img {
            max-width: 30%;
            height: auto;
            cursor: zoom-in;
            margin-right: 0; /* Remove right margin */
            align-self: flex-start;
        }
        .tooltip {
            position: relative;
            display: inline-block;
            cursor: help;
        }
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 120px;
            background-color: #555;
            color: #fff;
            text-align: center;
            padding: 5px 0;
            border-radius: 6px;
            position: absolute;
            z-index: 1;
            bottom: 100%;
            left: 50%;
            margin-left: -60px;
            opacity: 0;
            transition: opacity 0.3s;
        }
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
        .dark-mode {
            background-color: #333;
            color: #ddd;
        }
        #graph:hover {
            transform: scale(1.5); /* Adjust as needed */
        }
        #graph {
            transition: transform 0.25s ease;
        }

        #graph:active { /* When the image is clicked */
            transform: scale(1.5); /* Adjust as needed */
            max-width: 90%; /* Limit the maximum width */
            max-height: 90vh; /* Limit the maximum height */
        }
    </style>
</head>
<body>

    <div style="display: flex; flex-direction: column; align-items: center; margin-top: 2em;">
        <h1 class="header" style="text-align: center;">Regression Metrics Report</h1>
        <div class="header" style="display: flex; justify-content: center; align-items: center; text-align: center;">

                <img src="/home/manuel/Documents/projects/libs/mlpr/data/02_intermediate/regression_plots.png" alt="Graph" id="graph" style="max-width: 30%; cursor: zoom-in;"> <!-- Set left margin to 0 -->

        </div>
    </div>

    <h2>MAPE: 43.43105144697499</h2>
    <h2>RMSE: 19.87870623664434</h2>
    <h2>Kolmogorov-Smirnov: (0.03625377643504532, 0.9817907314065071)</h2>

    <h2>Confusion Matrix:</h2>
    <pre>[[ 2  0  0  0  0  0  0  0  0  0]
 [ 0  3  2  0  0  0  0  0  0  0]
 [ 0  1  9  2  0  0  0  0  0  0]
 [ 0  0  2 27  7  0  0  0  0  0]
 [ 0  0  0  5 44  8  0  0  0  0]
 [ 0  0  0  0  3 60  7  0  0  0]
 [ 0  0  0  0  0  8 66  2  0  0]
 [ 0  0  0  0  0  0 11 35  4  0]
 [ 0  0  0  0  0  0  0  3 11  1]
 [ 0  0  0  0  0  0  0  0  0  8]]</pre>

    <h2>Confusion Matrix Metrics:</h2>
    <table>
        <tr>
            <th>Precision</th>
            <th>Recall</th>
            <th>F1 Score</th>
            <th>Support</th>
            <th>Accuracy</th>
        </tr>
        <tr>
            <td>[1.         0.75       0.69230769 0.79411765 0.81481481 0.78947368
 0.78571429 0.875      0.73333333 0.88888889]</td>
            <td>[1.         0.6        0.75       0.75       0.77192982 0.85714286
 0.86842105 0.7        0.73333333 1.        ]</td>
            <td>[1.         0.66666667 0.72       0.77142857 0.79279279 0.82191781
 0.825      0.77777778 0.73333333 0.94117647]</td>
            <td>[ 2  5 12 36 57 70 76 50 15  8]</td>
            <td>0.8006042296072508</td>
        </tr>
    </table>

    <h2>Kappa Scores:</h2>

        <h3>Kappa Score for 0:</h3>
        <table>
            <tr>
                <th>Score</th>
                <th>Accuracy</th>
                <th>Precision</th>
                <th>Recall</th>
                <th>F1 Score</th>
                <th>Support</th>
            </tr>
            <tr>
                <td>1.0</td>
                <td>1.0</td>
                <td>[1. 1.]</td>
                <td>[1. 1.]</td>
                <td>[1. 1.]</td>
                <td>[329   2]</td>
            </tr>
        </table>

        <h3>Kappa Score for 1:</h3>
        <table>
            <tr>
                <th>Score</th>
                <th>Accuracy</th>
                <th>Precision</th>
                <th>Recall</th>
                <th>F1 Score</th>
                <th>Support</th>
            </tr>
            <tr>
                <td>0.6621299761823749</td>
                <td>0.9909365558912386</td>
                <td>[0.99388379 0.75      ]</td>
                <td>[0.99693252 0.6       ]</td>
                <td>[0.99540582 0.66666667]</td>
                <td>[326   5]</td>
            </tr>
        </table>

        <h3>Kappa Score for 2:</h3>
        <table>
            <tr>
                <th>Score</th>
                <th>Accuracy</th>
                <th>Precision</th>
                <th>Recall</th>
                <th>F1 Score</th>
                <th>Support</th>
            </tr>
            <tr>
                <td>0.7090292603290218</td>
                <td>0.9788519637462235</td>
                <td>[0.99056604 0.69230769]</td>
                <td>[0.98746082 0.75      ]</td>
                <td>[0.98901099 0.72      ]</td>
                <td>[319  12]</td>
            </tr>
        </table>

        <h3>Kappa Score for 3:</h3>
        <table>
            <tr>
                <th>Score</th>
                <th>Accuracy</th>
                <th>Precision</th>
                <th>Recall</th>
                <th>F1 Score</th>
                <th>Support</th>
            </tr>
            <tr>
                <td>0.7444262136859376</td>
                <td>0.9516616314199395</td>
                <td>[0.96969697 0.79411765]</td>
                <td>[0.97627119 0.75      ]</td>
                <td>[0.97297297 0.77142857]</td>
                <td>[295  36]</td>
            </tr>
        </table>

        <h3>Kappa Score for 4:</h3>
        <table>
            <tr>
                <th>Score</th>
                <th>Accuracy</th>
                <th>Precision</th>
                <th>Recall</th>
                <th>F1 Score</th>
                <th>Support</th>
            </tr>
            <tr>
                <td>0.751087134216119</td>
                <td>0.9305135951661632</td>
                <td>[0.95306859 0.81481481]</td>
                <td>[0.96350365 0.77192982]</td>
                <td>[0.95825771 0.79279279]</td>
                <td>[274  57]</td>
            </tr>
        </table>

        <h3>Kappa Score for 5:</h3>
        <table>
            <tr>
                <th>Score</th>
                <th>Accuracy</th>
                <th>Precision</th>
                <th>Recall</th>
                <th>F1 Score</th>
                <th>Support</th>
            </tr>
            <tr>
                <td>0.7716393355622777</td>
                <td>0.9214501510574018</td>
                <td>[0.96078431 0.78947368]</td>
                <td>[0.93869732 0.85714286]</td>
                <td>[0.9496124  0.82191781]</td>
                <td>[261  70]</td>
            </tr>
        </table>

        <h3>Kappa Score for 6:</h3>
        <table>
            <tr>
                <th>Score</th>
                <th>Accuracy</th>
                <th>Precision</th>
                <th>Recall</th>
                <th>F1 Score</th>
                <th>Support</th>
            </tr>
            <tr>
                <td>0.769406847133758</td>
                <td>0.9154078549848943</td>
                <td>[0.95951417 0.78571429]</td>
                <td>[0.92941176 0.86842105]</td>
                <td>[0.94422311 0.825     ]</td>
                <td>[255  76]</td>
            </tr>
        </table>

        <h3>Kappa Score for 7:</h3>
        <table>
            <tr>
                <th>Score</th>
                <th>Accuracy</th>
                <th>Precision</th>
                <th>Recall</th>
                <th>F1 Score</th>
                <th>Support</th>
            </tr>
            <tr>
                <td>0.7433113609926327</td>
                <td>0.9395770392749244</td>
                <td>[0.94845361 0.875     ]</td>
                <td>[0.98220641 0.7       ]</td>
                <td>[0.96503497 0.77777778]</td>
                <td>[281  50]</td>
            </tr>
        </table>

        <h3>Kappa Score for 8:</h3>
        <table>
            <tr>
                <th>Score</th>
                <th>Accuracy</th>
                <th>Precision</th>
                <th>Recall</th>
                <th>F1 Score</th>
                <th>Support</th>
            </tr>
            <tr>
                <td>0.7206751054852321</td>
                <td>0.9758308157099698</td>
                <td>[0.98734177 0.73333333]</td>
                <td>[0.98734177 0.73333333]</td>
                <td>[0.98734177 0.73333333]</td>
                <td>[316  15]</td>
            </tr>
        </table>

        <h3>Kappa Score for 9:</h3>
        <table>
            <tr>
                <th>Score</th>
                <th>Accuracy</th>
                <th>Precision</th>
                <th>Recall</th>
                <th>F1 Score</th>
                <th>Support</th>
            </tr>
            <tr>
                <td>0.9396315885464162</td>
                <td>0.9969788519637462</td>
                <td>[1.         0.88888889]</td>
                <td>[0.99690402 1.        ]</td>
                <td>[0.99844961 0.94117647]</td>
                <td>[323   8]</td>
            </tr>
        </table>

    <footer>
        <p>Contact us at <a href="mailto:ferreira.jr.ufpb@gmail.com">ferreira.jr.ufpb@gmail.com</a></p>
    </footer>
    <script>
        document.getElementById('graph').addEventListener('click', function() {
            var src = this.src;
            var overlay = document.createElement('div');
            overlay.style.position = 'fixed';
            overlay.style.top = '0';
            overlay.style.left = '0';
            overlay.style.width = '100%';
            overlay.style.height = '100%';
            overlay.style.backgroundColor = 'rgba(0,0,0,0.7)';
            overlay.style.cursor = 'zoom-out';
            overlay.innerHTML = '<img src="' + src + '" style="width: 80%; height: auto; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);">';
            overlay.addEventListener('click', function() {
                this.parentNode.removeChild(this);
            });
            document.body.appendChild(overlay);
        });
        var toggleDarkMode = document.getElementById('toggle-dark-mode');
        toggleDarkMode.addEventListener('click', function() {
            document.body.classList.toggle('dark-mode');
        });
    </script>
</body>
</html>